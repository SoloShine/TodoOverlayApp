<hc:Window
    x:Class="TodoOverlayApp.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:views="clr-namespace:TodoOverlayApp.Views"
    xmlns:vm="clr-namespace:TodoOverlayApp.ViewModels"
    Title="待办软件配置"
    Width="800"
    Height="450"
    Background="{DynamicResource RegionBrush}"
    WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  添加菜单栏  -->
        <Menu Grid.Row="0">
            <MenuItem Header="文件">
                <MenuItem Command="{Binding AddSubTodoItemCommand}" Header="添加软件" />
                <Separator />
                <MenuItem Click="ExitMenuItem_Click" Header="退出" />
            </MenuItem>
            <MenuItem Header="设置">
                <MenuItem Click="ThemeMenuItem_Click" Header="主题配置" />
                <MenuItem Command="{Binding ResetAppConfigCommand}" Header="重置配置" />
                <MenuItem Command="{Binding ResetTodoCommand}" Header="重置数据" />
            </MenuItem>
            <MenuItem Header="帮助">
                <MenuItem Click="AboutMenuItem_Click" Header="关于" />
            </MenuItem>
        </Menu>

        <!--  主内容区域  -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="150" />
            </Grid.ColumnDefinitions>
            <!--  使用新的UserControl替换之前的TreeView  -->
            <DockPanel>
                <TextBlock DockPanel.Dock="Top" Text="软件关联视图" />
                <views:TodoTreeView DockPanel.Dock="Bottom" />
            </DockPanel>
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <!--  功能区  -->
                    <RowDefinition />
                    <!--  小组件区  -->
                    <RowDefinition />
                </Grid.RowDefinitions>
                <StackPanel>
                    <StackPanel HorizontalAlignment="Left">
                        <RadioButton
                            Margin="5"
                            HorizontalAlignment="Left"
                            Content="待办视图"
                            GroupName="ViewMode" />
                        <RadioButton
                            Margin="5"
                            HorizontalAlignment="Left"
                            Content="自定义分组视图(todo)"
                            GroupName="ViewMode" />
                    </StackPanel>
                </StackPanel>
                <StackPanel Grid.Row="1" VerticalAlignment="Bottom">
                    <Viewbox MaxWidth="200">
                        <hc:FlipClock Margin="32" />
                    </Viewbox>
                </StackPanel>
            </Grid>

        </Grid>
    </Grid>
</hc:Window>
